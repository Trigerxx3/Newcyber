# ğŸš€ Deployment Guide - Local & Production

## âœ… What I Fixed

Your Flask app now works **both locally and in production** with the same code!

### ğŸ”§ Key Changes Made:

1. **Smart Environment Detection**: 
   - Automatically detects if running on Render (`RENDER=true`) or local
   - Uses production config on Render, development config locally

2. **Port Binding**: 
   - Local: `127.0.0.1:5000` (localhost only)
   - Production: `0.0.0.0:PORT` (accessible from outside)

3. **Database Setup**: 
   - Creates all tables automatically on startup
   - Creates admin user if it doesn't exist

4. **Single Entry Point**: 
   - Use `python run.py` for both local and production

---

## ğŸ  Local Development

```bash
# Navigate to backend
cd flask_backend

# Install dependencies
pip install -r requirements.txt

# Run locally
python run.py
```

**Access**: http://127.0.0.1:5000

---

## ğŸŒ Production Deployment

### Option 1: Render (Recommended)

1. Go to https://render.com
2. Click **"New +"** â†’ **"Blueprint"**
3. Connect your GitHub repo: `Trigerxx3/Newcyber`
4. Render will automatically read `render.yaml` and deploy

### Option 2: Manual Render Setup

1. Go to https://render.com
2. Click **"New +"** â†’ **"Web Service"**
3. Connect GitHub repo: `Trigerxx3/Newcyber`
4. Set these values:
   - **Root Directory**: `flask_backend`
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python run.py`
   - **Environment**: `Python 3`

---

## ğŸ”‘ Environment Variables

### For Production (Render):
- `FLASK_ENV=production` (auto-set by Render)
- `SECRET_KEY` (auto-generated by Render)
- `DATABASE_URL` (auto-set if you add PostgreSQL)

### For Local Development:
- No environment variables needed
- Uses SQLite database automatically

---

## ğŸ§ª Testing

### Local Testing:
```bash
cd flask_backend
python run.py
# Visit: http://127.0.0.1:5000/api/health
```

### Production Testing:
- Check your Render deployment URL
- Visit: `https://your-app.onrender.com/api/health`

---

## ğŸ“ Admin Login

**Both local and production:**
- **Email**: `admin@cyber.com`
- **Password**: `admin123456`

The admin user is automatically created on first startup.

---

## ğŸ¯ Next Steps

1. **Deploy to Render** using the Blueprint method
2. **Update your frontend** to point to the new Render URL
3. **Test the full application** end-to-end

Your app is now ready for both local development and production deployment! ğŸš€